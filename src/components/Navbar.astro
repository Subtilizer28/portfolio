---
import Icon from "./Icon";
---

<!-- Desktop Sidebar -->
<div
  class="hidden md:flex fixed top-0 left-0 h-screen w-20 flex-col items-center justify-evenly bg-neutral shadow-lg border border-primary z-50 rounded-r-2xl"
>
  {[
    { href: "#home", icon: "home" },
    { href: "#about", icon: "about" },
    { href: "#education", icon: "education" },
    { href: "#projects", icon: "projects" },
    { href: "#skills", icon: "skills" },
    { href: "#contact", icon: "contact" },
  ].map(({ href, icon }) => (
    <a
      href={href}
      class="nav-link group w-full h-16 flex items-center justify-center text-secondary hover:text-primary transition-all duration-300"
      data-section={icon}
    >
      <Icon icon={icon} className="group-hover:text-primary transition-all duration-300 scale-125" />
    </a>
  ))}
</div>

<!-- Mobile: Hamburger Button -->
<button
  id="hamburger"
  class="lg:hidden md:hidden fixed top-4 left-4 z-50 bg-primary text-white p-2 px-4 rounded-md shadow-md text-2xl"
>
  â˜°
</button>

<!-- Mobile: Slide-in Nav Menu -->
<div
  id="mobile-nav"
  class="md:hidden -translate-x-full fixed top-0 left-0 h-screen w-24 bg-neutral shadow-lg border-r border-primary z-40 transform transition-transform duration-300"
>
  <div class="flex flex-col items-center justify-evenly h-full py-10">
    {[
      { href: "#home", icon: "home" },
      { href: "#about", icon: "about" },
      { href: "#education", icon: "education" },
      { href: "#projects", icon: "projects" },
      { href: "#skills", icon: "skills" },
      { href: "#contact", icon: "contact" },
    ].map(({ href, icon }) => (
      <a
        href={href}
        class="group w-full h-14 flex items-center justify-center text-secondary hover:text-primary transition-all duration-300"
      >
        <Icon icon={icon} className="text-3xl group-hover:text-primary transition-all duration-300" />
      </a>
    ))}
  </div>
</div>

<!-- Inline Script for Toggle -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const hamburger = document.getElementById("hamburger");
    const mobileNav = document.getElementById("mobile-nav");

    hamburger?.addEventListener("click", () => {
      mobileNav?.classList.toggle("-translate-x-full");
      mobileNav?.classList.toggle("translate-x-0");
    });

    // Close mobile nav on clicking a link
    mobileNav?.querySelectorAll("a").forEach(link => {
      link.addEventListener("click", () => {
        // Ensure nav closes when a link is clicked
        mobileNav.classList.add("-translate-x-full");
        mobileNav.classList.remove("translate-x-0");
      });
    });
  });
</script>
